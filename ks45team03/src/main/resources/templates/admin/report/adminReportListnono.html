<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{admin/layout/default}">

<th:block layout:fragment="customContents">
	 <div class="right_col" role="main">
		  	<h1>관리자보험리스트</h1><br>
			  	<h3>현재 보험에 가입되어 있는 유저를 보여줍니다</h3><br>
		  	<div class="clearfix"></div>
	              <div class="col-md-12 col-sm-12  ">

				<!-- SEMI TITLE -->
				<div class="col-md-12 text-center">
					<div class="sectionTitle">
						<h1>Report List</h1>
						<p>회원의 신고 목록</p>
					</div>


					<!-- FOUR TAB -->
					<ul class="nav nav-tabs nav-pills nav-justified" role="tablist">
						<li class="nav-item"><a class="nav-link tabAll active"
							data-toggle="tab" href="#jutified1" role="tab"
							aria-selected="true">ALL</a></li>
						<li class="nav-item"><a class="nav-link tabReportComment"
							data-toggle="tab" href="#justified2" role="tab">COMMENT</a></li>
						<li class="nav-item"><a class="nav-link tabReportGoods"
							data-toggle="tab" href="#justified3" role="tab">GOODS</a></li>
						<li class="nav-item"><a class="nav-link tabReportInfoBoard"
							data-toggle="tab" href="#justified4" role="tab">INFOBOARD</a></li>
						<li class="nav-item"><a class="nav-link tabReportReview"
							data-toggle="tab" href="#justified5" role="tab">REVIEW</a></li>
					</ul>
					<br /> <br />

					<!-- 신고된 댓글 목록 -->
					<div class="tableReportComment">
						<h4>신고된 댓글 목록</h4>
						<br />
						 <div class="table-responsive">
						 
                      <table class="table table-striped jambo_table bulk_action">
                        <thead>
                          <tr class="headings">
                            
                            <th class="column-title">신고댓글코드</th>
                            <th class="column-title">신고타입</th>
                            <th class="column-title">정보게시판댓글코드 </th>
                            <th class="column-title">신고상태</th>
                            <th class="column-title">신고한회원</th>
                            <th class="column-title">신고받은회원</th>
                            <th class="column-title">신고내용</th>
                            <th class="column-title">신고일시</th>
                            <th class="column-title">원문 보기</th>
                            
                            
                          </tr>
                        </thead>
						<tbody >
								<tr th:if="${not #lists.isEmpty(reportCommentList)}"
									th:each="l : ${reportCommentList}">
									<td th:text="${l.reportCommentCode}" ></td>
									<th:block th:object="${l.reportType}">
						      			<td th:text="*{reportType}"></td>
						      		</th:block>
									<td th:text="${l.infoBoardCommentCode}"></td>
									<th:block th:object="${l.reportState}">
						      			<td th:text="*{reportStateName}"></td>
						      		</th:block>
									<td th:text="${l.reportingUserId}"></td>
									<td th:text="${l.reportedUserId}"></td>
									<td th:text="${l.reportCommentContent}"></td>
									<td th:text="${l.reportCommentDatetime}"></td>
									<td><a class="btn btn-danger navyBtn" style="width:100%"
												th:href="@{adminReportDetail/{reportCommentCode}(reportCommentCode=${l.reportCommentCode})}">이동</a></td>

								</tr>
								<tr th:unless="${not #lists.isEmpty(reportCommentList)}">
									<td colspan="9">신고된 댓글이 없습니다.</td>
								</tr>
							</tbody>
                      </table>
                      <hr class="my-4">
					<br />
                    </div>
                    
					</div>
					
					<!-- 신고된 상품 목록 -->
					<div class="tableReportComment">
						<h4>신고된 댓글 목록</h4>
						<br />
						 <div class="table-responsive">
						 
                      <table class="table table-striped jambo_table bulk_action">
                        <thead>
                          <tr class="headings">
                            
						
									<th>상품신고코드</th>
									<th>신고타입</th>
									<th>상품코드</th>
									<th>신고상태</th>
									<th>신고한회원</th>
									<th>신고받은회원</th>
									<th>신고내용</th>
									<th>신고시간</th>
									
								</tr>
							</thead>
							<tbody>
								<tr th:if="${not #lists.isEmpty(reportGoodsList)}"
									th:each="l : ${reportGoodsList}">

									<td th:text="${l.reportGoodsCode}"></td>
									<th:block th:object="${l.reportType}">
						      			<td th:text="*{reportType}"></td>
						      		</th:block>
									<td th:text="${l.goodsCode}"></td>
									<th:block th:object="${l.reportState}">
						      			<td th:text="*{reportStateName}"></td>
						      		</th:block>
									<td th:text="${l.reportingUserId}"></td>
									<td th:text="${l.reportedUserId}"></td>
									<td th:text="${l.reportGoodsContent}"></td>
									<td th:text="${l.reportGoodsDateTime}"></td>
								</tr>
								<tr th:unless="${not #lists.isEmpty(reportGoodsList)}">
									<td colspan="9">신고된 상품이 없습니다.</td>
								</tr>
							</tbody>
						</table>
						<hr class="my-4">
						<br />
					</div>
					
					<!-- 신고된 정보게시글 목록 -->
					<div class="tableReportComment">
						<h4>신고된 댓글 목록</h4>
						<br />
						 <div class="table-responsive">
						 
                      <table class="table table-striped jambo_table bulk_action">
                        <thead>
                          <tr class="headings">
									<th>게시글신고코드</th>
									<th>신고타입</th>
									<th>게시글코드</th>
									<th>신고상태</th>
									<th>신고한회원</th>
									<th>신고당한회원</th>
									<th>신고내용</th>
									<th>신고시간</th>
								</tr>
							</thead>
							<tbody>
								<tr th:if="${not #lists.isEmpty(reportInfoBoardList)}"
									th:each="l: ${reportInfoBoardList}">

									<td th:text="${l.reportInfoBoardCode}"></td>
									<th:block th:object="${l.reportType}">
						      			<td th:text="*{reportType}"></td>
						      		</th:block>
									<td th:text="${l.InfoBoardCode}"></td>
									<th:block th:object="${l.reportState}">
						      			<td th:text="*{reportStateName}"></td>
						      		</th:block>
									<td th:text="${l.reportingUserId}"></td>
									<td th:text="${l.reportedUserId}"></td>
									<td th:text="${l.reportInfoBoardContent}"></td>
									<td th:text="${l.reportInfoBoardDatetime}"></td>
								</tr>
								<tr th:unless="${not #lists.isEmpty(reportInfoBoardList)}">
									<td colspan="9">신고된 정보게시글이 없습니다.</td>
								</tr>
							</tbody>
						</table>
						<hr class="my-4">
						<br />
					</div>
					
					<!-- 신고된 상품평 목록 -->
					<div class="tableReportComment">
						<h4>신고된 댓글 목록</h4>
						<br />
						 <div class="table-responsive">
						 
                      <table class="table table-striped jambo_table bulk_action">
                        <thead>
                          <tr class="headings">
									<th>상품평신고코드</th>
									<th>신고타입</th>
									<th>상품평코드</th>
									<th>신고상태</th>
									<th>신고한회원</th>
									<th>신고받은회원</th>
									<th>신고내용</th>
									<th>신고시간</th>
									
								</tr>
							</thead>
							<tbody>
								<tr th:if="${not #lists.isEmpty(reportReviewList)}"
									th:each="l: ${reportReviewList}">

									<td th:text="${l.reportReviewCode}"></td>
									<th:block th:object="${l.reportType}">
						      			<td th:text="*{reportType}"></td>
						      		</th:block>
									<td th:text="${l.reviewCode}"></td>
									<th:block th:object="${l.reportState}">
						      			<td th:text="*{reportStateName}"></td>
						      		</th:block>
									<td th:text="${l.reportingUserId}"></td>
									<td th:text="${l.reportedUserId}"></td>
									<td th:text="${l.reportReviewContent}"></td>
									<td th:text="${l.reportReviewDatetime}"></td>
								</tr>
								<tr th:unless="${not #lists.isEmpty(reportReviewList)}">
									<td colspan="9">신고된 상품평이 없습니다.</td>
								</tr>
							</tbody>
						</table>
						<hr class="my-4">
						<br />
					</div>
					
				</div>
			</div>
		</div>
</th:block>
<th:block layout:fragment="customScript">
	<script th:inline="javascript">
		// nav tab 이벤트
		$('.tabAll').on("click", function() {
			console.log("All탭");
			$('.tableReportComment').show();
			$('.tableReportGoods').show();
			$('.tableReportInfoBoard').show();
			$('.tableReportReview').show();

		});
		$('.tabReportComment').on("click", function() {
			console.log("COMMENT탭");
			$('.tableReportComment').show();
			$('.tableReportGoods').hide();
			$('.tableReportInfoBoard').hide();
			$('.tableReportReview').hide();

		});
		$('.tabReportGoods').on("click", function() {
			console.log("GOODS탭");
			$('.tableReportComment').hide();
			$('.tableReportGoods').show();
			$('.tableReportInfoBoard').hide();
			$('.tableReportReview').hide();

		});
		$('.tabReportInfoBoard').on("click", function() {
			console.log("INFO BOARD탭");
			$('.tableReportComment').hide();
			$('.tableReportGoods').hide();
			$('.tableReportInfoBoard').show();
			$('.tableReportReview').hide();

		});
		$('.tabReportReview').on("click", function() {
			console.log("REVIEW탭");
			$('.tableReportComment').hide();
			$('.tableReportGoods').hide();
			$('.tableReportInfoBoard').hide();
			$('.tableReportReview').show();

		});

		

		// 보험만료시 청구버튼 숨기기
		console.log($(".btnaddBill"));
		for (let j = 0; j < $('.avlInsurance').length; j++) {
			if ($('.avlInsurance')[j].innerText == "만료") {
				$(".btnaddBill")[j].hidden = true;
			}

		}

		// 상태 색깔 주기
		for (let i = 0; i < $('.billState').length; i++) {
			let state_name = $('.billState')[i].innerText;

			if (state_name == "접수중") {
				$('.billState')[i].style.color = "green";
			} else if (state_name == "적합성판단중") {
				$('.billState')[i].style.color = "orange";
			} else if (state_name == "보상금지급대기") {
				$('.billState')[i].style.color = "blue";
			} else if (state_name == "부적합") {
				$('.billState').style.color = "red";
			} else {
				$('.billState').style.color = "black";
			}

		}
	</script>
</th:block>
</html>