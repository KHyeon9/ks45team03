<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="ks45team03.rentravel.mapper.AdminMileageMapper">
	<!-- tb_mileage_payment_save -->
	<resultMap type="MileagePaymentSave" id="mileageResultMap">
		<id property="mileagePaymentSaveCode" column="mileage_payment_save_code" />
		<result property="userId" column="user_id" />
		<result property="paymentCode" column="payment_code" />
		<result property="mileageSaveAmount" column="mileage_save_amount" />
		<result property="mileageSaveTime" column="mileage_save_time" />
		<result property="mileageGroupCode" column="mileage_group_code" />
		<association property="mileageRentalCancelSave" javaType="MileageRentalCancelSave">
			<id property="memberId" column="m_id" />
			<result property="mileageRentalCancel" 		column="mileage_rental_cancel_save_code" />
			<result property="userId" 		column="user_id" />
			<result property="paymentCode" 		column="payment_code" />
			<result property="mileageSaveAmount" 		column="mileage_save_amount" />
			<result property="mileageSaveTime" 		column="mileage_save_time" />
			<result property="mileageGroupCode" 	column="mileage_group_code" />
		</association>
	</resultMap>

	<select id="adminGetMileagePaymentSaveList" resultMap="mileageResultMap">
	/*결제 적립금 조회*/
		SELECT
			mileage_payment_save_code
			,user_id
			,payment_code
			,mileage_save_amount
			,mileage_save_time
			,mileage_group_code

		FROM
			tb_mileage_payment_save

	</select>
	
	<select id="adminGetMileageRentalCancelSaveList" resultMap="mileageResultMap">
	/*적립금 사용 후 결제취소 시 재적립된 적립금 조회*/
		SELECT
			mileage_rental_cancel_save_code
			,user_id
			,payment_code
			,mileage_save_amount
			,mileage_save_time
			,mileage_group_code
		
		FROM
			tb_mileage_rental_cancel_save 

	</select>

</mapper>